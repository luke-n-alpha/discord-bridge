# 개발 원칙 (Discord Bridge)

## 보안
- API 키/봇 토큰/클라이언트 시크릿은 .env로만 관리, 커밋 금지(.gitignore 적용).
- OS 키체인 우선 저장, 로그에 비밀값 마스킹.
- 노출된 자격증명은 즉시 폐기 후 재발급.

## TDD/테스트 전략
- TDD 우선: 실패 테스트 작성 → 구현 → 리팩터.
- CLI 오케스트레이터: 전처리→요약→저장→(향후)SMTP 발송을 단위/통합 테스트로 검증(샘플 JSON 활용).
- LLM 호출은 인터페이스를 분리하고, 테스트에서는 스텁/모의 응답 사용.
- 스케줄러/이메일 전송도 의존성 주입으로 테스트 가능하게 설계.
- E2E 검증: 주요 변경은 최소 1개 이상의 E2E 시나리오로 마감 검증(입력→요약→저장/발송, 샘플 데이터 + 모의 LLM/SMTP).

## 구조/재사용 원칙
- 재사용 우선: 신규 구현 전에 기존 모듈/유틸/스크립트 분석.
- 구조적 확장: provider/pipeline/config 등 확장 포인트를 활용하고, 중복 로직을 만들지 않기.
- 하드코딩 금지: 경로/모델/언어/스케줄/SMTP는 .env 또는 설정 레이어로 관리.

## 코드/문서
- 주요 기능 변경 시 docs/manual.md, README 업데이트.
- 설정 스키마(.env/.yaml) 변경 시 예시 파일(.env.example) 동기화.
- 멀티플랫폼(Tauri) 빌드 스크립트는 각 OS별로 검증(Linux/Windows/macOS).

## 기타
- 에러는 사용자 친화적 메시지 + 로깅(디버그용 상세 로그 분리).
- 기본값은 안전하고 보수적으로(예: TLS on, 메시지 권한 최소화).
